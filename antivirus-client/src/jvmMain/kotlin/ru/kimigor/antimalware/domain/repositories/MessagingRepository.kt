package ru.kimigor.antimalware.domain.repositories

import kotlinx.coroutines.CoroutineScope
import kotlinx.coroutines.flow.StateFlow
import ru.kimigor.antimalware.data.models.ApiMessage
import ru.kimigor.antimalware.domain.models.ScanState

interface MessagingRepository {
    suspend fun isProtectionEnabled(): ApiMessage<Boolean>
    suspend fun enableProtection(): ApiMessage<Unit>
    suspend fun disableProtection(): ApiMessage<Unit>
    suspend fun startScan(path: String): ApiMessage<Unit>
    suspend fun pauseScan(): ApiMessage<Unit>
    suspend fun resumeScan(): ApiMessage<Unit>
    suspend fun stopScan(): ApiMessage<Unit>
    fun scanState(scope: CoroutineScope) : StateFlow<ScanState>
}